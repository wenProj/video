<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">  
<html>    
<head>
<title>IP获取经纬度</title>
<meta charset="utf-8">
<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">  
<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</head>
<script type="text/javascript">
    function getLonLat(ip){
        $("#showLonLat").attr("style","display: none;");

        var ip = $("#ip").val();
        console.log(ip);
        $.get("http://ip-api.com/json/"+ip,function(data,status){
            if(status == "success"){
                console.log(JSON.stringify(data));console.log("经度："+data.lon);console.log("经度："+data.lat);

                $("#lon").val(data.lon);
                $("#lat").val(data.lat);
                $("#showLonLat").attr("style","display: block;");
            }
        });
    }
</script>
<body>
    <br>
    <div class="container"> 
        <div class="row" style="text-align: center;">
            <div class="col-lg-3 text-center">
                <div class="input-group">
                    <input type="text" id="ip" class="form-control" placeholder="请输入IP">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" onclick="getLonLat()">查询</button>
                    </span>
                </div>
                <br>
                <div id="showLonLat" style="display: none;">
                    经度:<input id="lon" type="text" class="form-control"> 
                    纬度:<input id="lat" type="text" class="form-control">
                    <br><br>
                    根据经纬度定位(参考):<input value="http://map.yanue.net" type="text" class="form-control"> 
                </div>
            </div>
        </div>
    </div>

</body>
</html>